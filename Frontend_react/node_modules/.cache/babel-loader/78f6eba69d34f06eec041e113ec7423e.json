{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { useOpenState } from './useOpenState';\nimport { useUtils } from './useUtils';\nexport const usePickerState = (props, valueManager) => {\n  const {\n    onAccept,\n    onChange,\n    value,\n    closeOnSelect\n  } = props;\n  const utils = useUtils();\n  const {\n    isOpen,\n    setIsOpen\n  } = useOpenState(props);\n  const parsedDateValue = React.useMemo(() => valueManager.parseInput(utils, value), [valueManager, utils, value]);\n  const [lastValidDateValue, setLastValidDateValue] = React.useState(parsedDateValue);\n  const [dateState, setDateState] = React.useState(() => ({\n    committed: parsedDateValue,\n    draft: parsedDateValue,\n    resetFallback: parsedDateValue\n  }));\n  const setDate = React.useCallback(params => {\n    setDateState(prev => {\n      switch (params.action) {\n        case 'setAll':\n        case 'acceptAndClose':\n          {\n            return {\n              draft: params.value,\n              committed: params.value,\n              resetFallback: params.value\n            };\n          }\n\n        case 'setCommitted':\n          {\n            return _extends({}, prev, {\n              draft: params.value,\n              committed: params.value\n            });\n          }\n\n        case 'setDraft':\n          {\n            return _extends({}, prev, {\n              draft: params.value\n            });\n          }\n\n        default:\n          {\n            return prev;\n          }\n      }\n    });\n\n    if (!params.skipOnChangeCall && !valueManager.areValuesEqual(utils, dateState.committed, params.value)) {\n      onChange(params.value);\n    }\n\n    if (params.action === 'acceptAndClose') {\n      setIsOpen(false);\n\n      if (onAccept && !valueManager.areValuesEqual(utils, dateState.resetFallback, params.value)) {\n        onAccept(params.value);\n      }\n    }\n  }, [onAccept, onChange, setIsOpen, dateState, utils, valueManager]);\n  React.useEffect(() => {\n    if (utils.isValid(parsedDateValue)) {\n      setLastValidDateValue(parsedDateValue);\n    }\n  }, [utils, parsedDateValue]);\n  React.useEffect(() => {\n    if (isOpen) {\n      // Update all dates in state to equal the current prop value\n      setDate({\n        action: 'setAll',\n        value: parsedDateValue,\n        skipOnChangeCall: true\n      });\n    }\n  }, [isOpen]); // eslint-disable-line react-hooks/exhaustive-deps\n  // Set the draft and committed date to equal the new prop value.\n\n  if (!valueManager.areValuesEqual(utils, dateState.committed, parsedDateValue)) {\n    setDate({\n      action: 'setCommitted',\n      value: parsedDateValue,\n      skipOnChangeCall: true\n    });\n  }\n\n  const wrapperProps = React.useMemo(() => ({\n    open: isOpen,\n    onClear: () => {\n      // Reset all date in state to the empty value and close picker.\n      setDate({\n        value: valueManager.emptyValue,\n        action: 'acceptAndClose'\n      });\n    },\n    onAccept: () => {\n      // Set all date in state to equal the current draft value and close picker.\n      setDate({\n        value: dateState.draft,\n        action: 'acceptAndClose'\n      });\n    },\n    onDismiss: () => {\n      // Set all dates in state to equal the last committed date.\n      // e.g. Reset the state to the last committed value.\n      setDate({\n        value: dateState.committed,\n        action: 'acceptAndClose'\n      });\n    },\n    onCancel: () => {\n      // Set all dates in state to equal the last accepted date and close picker.\n      // e.g. Reset the state to the last accepted value\n      setDate({\n        value: dateState.resetFallback,\n        action: 'acceptAndClose'\n      });\n    },\n    onSetToday: () => {\n      // Set all dates in state to equal today and close picker.\n      setDate({\n        value: valueManager.getTodayValue(utils),\n        action: 'acceptAndClose'\n      });\n    }\n  }), [setDate, isOpen, utils, dateState, valueManager]); // Mobile keyboard view is a special case.\n  // When it's open picker should work like closed, because we are just showing text field\n\n  const [isMobileKeyboardViewOpen, setMobileKeyboardViewOpen] = React.useState(false);\n  const pickerProps = React.useMemo(() => ({\n    parsedValue: dateState.draft,\n    isMobileKeyboardViewOpen,\n    toggleMobileKeyboardView: () => setMobileKeyboardViewOpen(!isMobileKeyboardViewOpen),\n    onDateChange: function (newDate, wrapperVariant) {\n      let selectionState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'partial';\n\n      switch (selectionState) {\n        case 'shallow':\n          {\n            // Update the `draft` state but do not fire `onChange`\n            return setDate({\n              action: 'setDraft',\n              value: newDate,\n              skipOnChangeCall: true\n            });\n          }\n\n        case 'partial':\n          {\n            // Update the `draft` state and fire `onChange`\n            return setDate({\n              action: 'setDraft',\n              value: newDate\n            });\n          }\n\n        case 'finish':\n          {\n            if (closeOnSelect != null ? closeOnSelect : wrapperVariant === 'desktop') {\n              // Set all dates in state to equal the new date and close picker.\n              return setDate({\n                value: newDate,\n                action: 'acceptAndClose'\n              });\n            } // Updates the `committed` state and fire `onChange`\n\n\n            return setDate({\n              value: newDate,\n              action: 'setCommitted'\n            });\n          }\n\n        default:\n          {\n            throw new Error('MUI: Invalid selectionState passed to `onDateChange`');\n          }\n      }\n    }\n  }), [setDate, isMobileKeyboardViewOpen, dateState.draft, closeOnSelect]);\n  const handleInputChange = React.useCallback((newParsedValue, keyboardInputValue) => {\n    const cleanParsedValue = valueManager.valueReducer ? valueManager.valueReducer(utils, lastValidDateValue, newParsedValue) : newParsedValue;\n    onChange(cleanParsedValue, keyboardInputValue);\n  }, [onChange, valueManager, lastValidDateValue, utils]);\n  const inputProps = React.useMemo(() => ({\n    onChange: handleInputChange,\n    open: isOpen,\n    rawValue: value,\n    openPicker: () => setIsOpen(true)\n  }), [handleInputChange, isOpen, value, setIsOpen]);\n  const pickerState = {\n    pickerProps,\n    inputProps,\n    wrapperProps\n  };\n  React.useDebugValue(pickerState, () => ({\n    MuiPickerState: {\n      dateState,\n      other: pickerState\n    }\n  }));\n  return pickerState;\n};","map":{"version":3,"sources":["C:/Users/plane/OneDrive/Desktop/git/Frontend/Frontend_react/node_modules/@mui/x-date-pickers/internals/hooks/usePickerState.js"],"names":["_extends","React","useOpenState","useUtils","usePickerState","props","valueManager","onAccept","onChange","value","closeOnSelect","utils","isOpen","setIsOpen","parsedDateValue","useMemo","parseInput","lastValidDateValue","setLastValidDateValue","useState","dateState","setDateState","committed","draft","resetFallback","setDate","useCallback","params","prev","action","skipOnChangeCall","areValuesEqual","useEffect","isValid","wrapperProps","open","onClear","emptyValue","onDismiss","onCancel","onSetToday","getTodayValue","isMobileKeyboardViewOpen","setMobileKeyboardViewOpen","pickerProps","parsedValue","toggleMobileKeyboardView","onDateChange","newDate","wrapperVariant","selectionState","Error","handleInputChange","newParsedValue","keyboardInputValue","cleanParsedValue","valueReducer","inputProps","rawValue","openPicker","pickerState","useDebugValue","MuiPickerState","other"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport * as React from 'react';\r\nimport { useOpenState } from './useOpenState';\r\nimport { useUtils } from './useUtils';\r\nexport const usePickerState = (props, valueManager) => {\r\n  const {\r\n    onAccept,\r\n    onChange,\r\n    value,\r\n    closeOnSelect\r\n  } = props;\r\n  const utils = useUtils();\r\n  const {\r\n    isOpen,\r\n    setIsOpen\r\n  } = useOpenState(props);\r\n  const parsedDateValue = React.useMemo(() => valueManager.parseInput(utils, value), [valueManager, utils, value]);\r\n  const [lastValidDateValue, setLastValidDateValue] = React.useState(parsedDateValue);\r\n  const [dateState, setDateState] = React.useState(() => ({\r\n    committed: parsedDateValue,\r\n    draft: parsedDateValue,\r\n    resetFallback: parsedDateValue\r\n  }));\r\n  const setDate = React.useCallback(params => {\r\n    setDateState(prev => {\r\n      switch (params.action) {\r\n        case 'setAll':\r\n        case 'acceptAndClose':\r\n          {\r\n            return {\r\n              draft: params.value,\r\n              committed: params.value,\r\n              resetFallback: params.value\r\n            };\r\n          }\r\n\r\n        case 'setCommitted':\r\n          {\r\n            return _extends({}, prev, {\r\n              draft: params.value,\r\n              committed: params.value\r\n            });\r\n          }\r\n\r\n        case 'setDraft':\r\n          {\r\n            return _extends({}, prev, {\r\n              draft: params.value\r\n            });\r\n          }\r\n\r\n        default:\r\n          {\r\n            return prev;\r\n          }\r\n      }\r\n    });\r\n\r\n    if (!params.skipOnChangeCall && !valueManager.areValuesEqual(utils, dateState.committed, params.value)) {\r\n      onChange(params.value);\r\n    }\r\n\r\n    if (params.action === 'acceptAndClose') {\r\n      setIsOpen(false);\r\n\r\n      if (onAccept && !valueManager.areValuesEqual(utils, dateState.resetFallback, params.value)) {\r\n        onAccept(params.value);\r\n      }\r\n    }\r\n  }, [onAccept, onChange, setIsOpen, dateState, utils, valueManager]);\r\n  React.useEffect(() => {\r\n    if (utils.isValid(parsedDateValue)) {\r\n      setLastValidDateValue(parsedDateValue);\r\n    }\r\n  }, [utils, parsedDateValue]);\r\n  React.useEffect(() => {\r\n    if (isOpen) {\r\n      // Update all dates in state to equal the current prop value\r\n      setDate({\r\n        action: 'setAll',\r\n        value: parsedDateValue,\r\n        skipOnChangeCall: true\r\n      });\r\n    }\r\n  }, [isOpen]); // eslint-disable-line react-hooks/exhaustive-deps\r\n  // Set the draft and committed date to equal the new prop value.\r\n\r\n  if (!valueManager.areValuesEqual(utils, dateState.committed, parsedDateValue)) {\r\n    setDate({\r\n      action: 'setCommitted',\r\n      value: parsedDateValue,\r\n      skipOnChangeCall: true\r\n    });\r\n  }\r\n\r\n  const wrapperProps = React.useMemo(() => ({\r\n    open: isOpen,\r\n    onClear: () => {\r\n      // Reset all date in state to the empty value and close picker.\r\n      setDate({\r\n        value: valueManager.emptyValue,\r\n        action: 'acceptAndClose'\r\n      });\r\n    },\r\n    onAccept: () => {\r\n      // Set all date in state to equal the current draft value and close picker.\r\n      setDate({\r\n        value: dateState.draft,\r\n        action: 'acceptAndClose'\r\n      });\r\n    },\r\n    onDismiss: () => {\r\n      // Set all dates in state to equal the last committed date.\r\n      // e.g. Reset the state to the last committed value.\r\n      setDate({\r\n        value: dateState.committed,\r\n        action: 'acceptAndClose'\r\n      });\r\n    },\r\n    onCancel: () => {\r\n      // Set all dates in state to equal the last accepted date and close picker.\r\n      // e.g. Reset the state to the last accepted value\r\n      setDate({\r\n        value: dateState.resetFallback,\r\n        action: 'acceptAndClose'\r\n      });\r\n    },\r\n    onSetToday: () => {\r\n      // Set all dates in state to equal today and close picker.\r\n      setDate({\r\n        value: valueManager.getTodayValue(utils),\r\n        action: 'acceptAndClose'\r\n      });\r\n    }\r\n  }), [setDate, isOpen, utils, dateState, valueManager]); // Mobile keyboard view is a special case.\r\n  // When it's open picker should work like closed, because we are just showing text field\r\n\r\n  const [isMobileKeyboardViewOpen, setMobileKeyboardViewOpen] = React.useState(false);\r\n  const pickerProps = React.useMemo(() => ({\r\n    parsedValue: dateState.draft,\r\n    isMobileKeyboardViewOpen,\r\n    toggleMobileKeyboardView: () => setMobileKeyboardViewOpen(!isMobileKeyboardViewOpen),\r\n    onDateChange: (newDate, wrapperVariant, selectionState = 'partial') => {\r\n      switch (selectionState) {\r\n        case 'shallow':\r\n          {\r\n            // Update the `draft` state but do not fire `onChange`\r\n            return setDate({\r\n              action: 'setDraft',\r\n              value: newDate,\r\n              skipOnChangeCall: true\r\n            });\r\n          }\r\n\r\n        case 'partial':\r\n          {\r\n            // Update the `draft` state and fire `onChange`\r\n            return setDate({\r\n              action: 'setDraft',\r\n              value: newDate\r\n            });\r\n          }\r\n\r\n        case 'finish':\r\n          {\r\n            if (closeOnSelect != null ? closeOnSelect : wrapperVariant === 'desktop') {\r\n              // Set all dates in state to equal the new date and close picker.\r\n              return setDate({\r\n                value: newDate,\r\n                action: 'acceptAndClose'\r\n              });\r\n            } // Updates the `committed` state and fire `onChange`\r\n\r\n\r\n            return setDate({\r\n              value: newDate,\r\n              action: 'setCommitted'\r\n            });\r\n          }\r\n\r\n        default:\r\n          {\r\n            throw new Error('MUI: Invalid selectionState passed to `onDateChange`');\r\n          }\r\n      }\r\n    }\r\n  }), [setDate, isMobileKeyboardViewOpen, dateState.draft, closeOnSelect]);\r\n  const handleInputChange = React.useCallback((newParsedValue, keyboardInputValue) => {\r\n    const cleanParsedValue = valueManager.valueReducer ? valueManager.valueReducer(utils, lastValidDateValue, newParsedValue) : newParsedValue;\r\n    onChange(cleanParsedValue, keyboardInputValue);\r\n  }, [onChange, valueManager, lastValidDateValue, utils]);\r\n  const inputProps = React.useMemo(() => ({\r\n    onChange: handleInputChange,\r\n    open: isOpen,\r\n    rawValue: value,\r\n    openPicker: () => setIsOpen(true)\r\n  }), [handleInputChange, isOpen, value, setIsOpen]);\r\n  const pickerState = {\r\n    pickerProps,\r\n    inputProps,\r\n    wrapperProps\r\n  };\r\n  React.useDebugValue(pickerState, () => ({\r\n    MuiPickerState: {\r\n      dateState,\r\n      other: pickerState\r\n    }\r\n  }));\r\n  return pickerState;\r\n};"]},"metadata":{},"sourceType":"module"}