{"ast":null,"code":"const JWT_EXPIRY_TIME = 24 * 3600 * 1000;\n\nconst onLoginSuccess = response => {\n  setCookie('access-token', response.headers[\"authorization\"]); // refreshToken 헤더에 설정\n\n  axios.defaults.headers.common['Authorization'] = cookies.get('refresh-token'); // accessToken 만료하기 1분 전에 로그인 연장\n\n  setTimeout(onSilentRefresh, JWT_EXPIRY_TIME - 60000);\n};\n\nconst onSilentRefresh = () => {\n  //주소에 refreshtoken헤더 설정값 붙힌 상태로 post -> acesstoken 재발급.\n  axios.post('//', data).then(onLoginSuccess).catch(function (error) {\n    console.log(error);\n  });\n};\n\nexport { onLoginSuccess, onSilentRefresh };","map":{"version":3,"names":["JWT_EXPIRY_TIME","onLoginSuccess","response","setCookie","headers","axios","defaults","common","cookies","get","setTimeout","onSilentRefresh","post","data","then","catch","error","console","log"],"sources":["C:/Users/gram1/Desktop/Frontend-React/mainpage_react/src/components/Loginpage/jwtrefresh.js"],"sourcesContent":["\r\n\r\nconst JWT_EXPIRY_TIME = 24 * 3600 * 1000;\r\n\r\nconst onLoginSuccess = response => {\r\n  setCookie('access-token', response.headers[\"authorization\"]);\r\n  // refreshToken 헤더에 설정\r\n  axios.defaults.headers.common['Authorization'] = cookies.get('refresh-token')\r\n  // accessToken 만료하기 1분 전에 로그인 연장\r\n  setTimeout(onSilentRefresh, JWT_EXPIRY_TIME - 60000);\r\n}\r\n\r\nconst onSilentRefresh = () => {\r\n  //주소에 refreshtoken헤더 설정값 붙힌 상태로 post -> acesstoken 재발급.\r\n  axios.post('//', data) \r\n      .then(onLoginSuccess)\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      })\r\n}\r\n\r\nexport {onLoginSuccess,onSilentRefresh};"],"mappings":"AAEA,MAAMA,eAAe,GAAG,KAAK,IAAL,GAAY,IAApC;;AAEA,MAAMC,cAAc,GAAGC,QAAQ,IAAI;EACjCC,SAAS,CAAC,cAAD,EAAiBD,QAAQ,CAACE,OAAT,CAAiB,eAAjB,CAAjB,CAAT,CADiC,CAEjC;;EACAC,KAAK,CAACC,QAAN,CAAeF,OAAf,CAAuBG,MAAvB,CAA8B,eAA9B,IAAiDC,OAAO,CAACC,GAAR,CAAY,eAAZ,CAAjD,CAHiC,CAIjC;;EACAC,UAAU,CAACC,eAAD,EAAkBX,eAAe,GAAG,KAApC,CAAV;AACD,CAND;;AAQA,MAAMW,eAAe,GAAG,MAAM;EAC5B;EACAN,KAAK,CAACO,IAAN,CAAW,IAAX,EAAiBC,IAAjB,EACKC,IADL,CACUb,cADV,EAEKc,KAFL,CAEW,UAAUC,KAAV,EAAiB;IACtBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACD,CAJL;AAKD,CAPD;;AASA,SAAQf,cAAR,EAAuBU,eAAvB"},"metadata":{},"sourceType":"module"}